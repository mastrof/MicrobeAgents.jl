<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>1D Random walk · MicrobeAgents.jl</title><meta name="title" content="1D Random walk · MicrobeAgents.jl"/><meta property="og:title" content="1D Random walk · MicrobeAgents.jl"/><meta property="twitter:title" content="1D Random walk · MicrobeAgents.jl"/><meta name="description" content="Documentation for MicrobeAgents.jl."/><meta property="og:description" content="Documentation for MicrobeAgents.jl."/><meta property="twitter:description" content="Documentation for MicrobeAgents.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">MicrobeAgents.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><a class="tocitem" href="../../../introduction/">Introduction</a></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Random walks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>1D Random walk</a></li><li><a class="tocitem" href="../2_randomwalk2D_motilepatterns/">2D Random walk and motile patterns</a></li><li><a class="tocitem" href="../3_randomwalk3D/">3D Random walk</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Chemotaxis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Chemotaxis/1_linear_ramp/">Linear concentration ramp</a></li><li><a class="tocitem" href="../../Chemotaxis/2_celani_gauss2D/">Noisy chemotaxis towards Gaussian source</a></li><li><a class="tocitem" href="../../Chemotaxis/3_xie_response-function/">Response function (Xie)</a></li><li><a class="tocitem" href="../../Chemotaxis/4_response_functions/">Comparison of chemotactic response functions</a></li><li><a class="tocitem" href="../../Chemotaxis/5_drift_exponential/">Chemotactic drift in exponential ramp with noisy sensing</a></li></ul></li></ul></li><li><span class="tocitem">Validation</span><ul><li><a class="tocitem" href="../../../validation/msd_runtumble/">Mean squared displacement</a></li><li><a class="tocitem" href="../../../validation/run_distribution/">Run-length distribution</a></li><li><a class="tocitem" href="../../../validation/velocity_autocorrelations/">Velocity autocorrelation functions</a></li></ul></li><li><a class="tocitem" href="../../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li><a class="is-disabled">Random walks</a></li><li class="is-active"><a href>1D Random walk</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>1D Random walk</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mastrof/MicrobeAgents.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mastrof/MicrobeAgents.jl/blob/main/examples/RandomWalks/1_randomwalk1D.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="1D-Random-walk"><a class="docs-heading-anchor" href="#1D-Random-walk">1D Random walk</a><a id="1D-Random-walk-1"></a><a class="docs-heading-anchor-permalink" href="#1D-Random-walk" title="Permalink"></a></h1><p>Here we simulate a population of one-dimensional random walkers.</p><p>First we shall set up the model: we need to define the microbe type, the space and the integration timestep.</p><p>For the microbe type, we will choose the base type <code>Microbe{1}</code>, where parameter <code>1</code> refers to the number of dimensions in which the microbe can move.</p><p>For the space, we need to set the domain size and whether it is periodic or not. We will use a periodic box with an extent of 1000 μm; if unspecified, <code>ContinuousSpace</code> will default to <code>periodic=true</code>.</p><p>For the integration timestep, we choose a value of 0.1 s.</p><p>Remember that lengths are always assumed to be in units of microns, times in seconds.</p><pre><code class="language-julia hljs">using MicrobeAgents

L = 1000 # space size in μm
space = ContinuousSpace((L,))
dt = 0.1 # integration timestep in s
model = StandardABM(Microbe{1}, space, dt)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StandardABM with 0 agents of type Microbe{1}
 agents container: Dict
 space: periodic continuous space with [1000.0] extent and spacing=50.0
 scheduler: fastest
 properties: chemoattractant, affect!, timestep</code></pre><p>Now that the model is initialized, we will add 10 microbes.</p><p>With the first (optional) argument to <code>add_agent!</code>, we can define the starting position of the microbe. For convenience, we will initialize all of them from position <code>(0,)</code>.</p><p>Moreover, it&#39;s always required to specify the motility of the microbes via the keyword argument <code>motility</code>. For example, <code>RunTumble</code> needs as inputs the average duration of runs and the distribution of run speeds. Passing a one-element vector <code>[U]</code> means that all runs will have the same velocity <code>U</code>. We could have also specified the average duration of tumbles (equal to reversals in 1 dimension) via an optional 3rd argument (try it! e.g. 0.5); when unspecified, the tumbles are taken to be instantaneous.</p><pre><code class="language-julia hljs">n = 10 # number of microbes to add
τ_run = 1.0 # average run duration in s
U = 30.0 # swimming speed in μm/s
motility = RunTumble(τ_run, [U], 0.5)
foreach(_ -&gt; add_agent!((0,), model; motility), 1:n)</code></pre><p>We can now run the simulation. We just need to define how many timesteps we want to simulate and what kind of data we want to store during the simulation. In this simulation, we only want to collect the microbe positions at each timestep; we then set the <code>adata</code> vector (agent data) to collect the position of the microbes.</p><p>The <code>run!</code> function will return a dataframe for the agent data (<code>adf</code>) and one for the model data (<code>mdf</code>) collected during the simulation. Here we are only collecting agent data and no model data.</p><pre><code class="language-julia hljs">nsteps = 600
adata = [position]
adf, _ = run!(model, nsteps; adata);</code></pre><p>The simulation is done. We now want to visualize our results. One last thing we need to is to &quot;unfold&quot; the trajectories of our microbes. In fact, since we used a periodic domain, if we just plotted the trajectories we would see them crossing between the two sides of the box, which is not what we want.</p><p>With the unfolding, the trajectories are expanded as if they were simulated in an infinite system.</p><p>The <code>unfold!</code> function and other useful post-processing functions can be accessed through the <code>Analysis</code> submodule of MicrobeAgents.jl. <code>unfold!</code> operates directly on the agent dataframe <code>adf</code> and generates a new column <code>:position_unfold</code> from the raw <code>:position</code> column. After the unfolding, we extract the individual trajectories in the form of a matrix with <code>adf_to_matrix</code>, where each trajectory will be stored as a column. This will be convenient for plotting.</p><pre><code class="language-julia hljs">Analysis.unfold!(adf, model)
traj = Analysis.adf_to_matrix(adf, :position_unfold)
x = first.(traj)
t = axes(x,1) .* dt

using Plots
plot(t, x, leg=false, xlab=&quot;time&quot;, ylab=&quot;displacement&quot;)</code></pre><img src="d2b559e3.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../../introduction/">« Introduction</a><a class="docs-footer-nextpage" href="../2_randomwalk2D_motilepatterns/">2D Random walk and motile patterns »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 21 May 2024 09:26">Tuesday 21 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
